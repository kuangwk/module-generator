!function(a,b){"function"==typeof define&&define.amd?define(["jquery"],b):a.SideNav=b($)}(this,function(a){var b=function(b){var c,d,e,f,g=".side-nav-spy",h="side-nav-item-active",i="a",j={container:"body",autoNav:!0},k={},l=this,m=null,n=null,o="sideNax:",p=null,q=0,r=null,s=!1,t=0,u=function(){j=a.extend(j,b),j.target&&(g=j.target),j.nav&&(i=j.nav),j.activeClass&&(h=j.activeClass),c=a(j.el),d=a(j.container),e=a(g,d),f=a(i,d),f.addClass("side-nav-item"),y(),v()},v=function(){p=c.height(),m=d.offset(),n=d.height();var b=0;e.each(function(){var c=a(this),d="spy-id"+b++;c.data(d,b++);var e=c.offset();k[d]={top:e.top,bottom:e.top+a(this).height(),$el:c},r?r>e.top&&(r=e.top):r=e.top})},w=function(){var b,c=0;a.each(k,function(d,e){try{var g=a(f.get(c)),h=g.offset();e.top<=h.top&&e.bottom>h.top+g.height()&&(b=g),c++}catch(i){console&&console.log("can not matched nav")}}),b&&b.trigger("click")},x=function(){var b=a(window).scrollTop();s=0>=q-b?!1:!0,q=b;var d=c.offset().top;m.top+n<d+p&&!s?c.addClass("side-nav-bottom"):d>b+t&&s&&c.hasClass("side-nav-bottom")?(c.removeClass("side-nav-bottom "),0==b&&c.removeClass("side-nav-scrolling")):b>r&&!c.hasClass("side-nav-scrolling")?c.addClass("side-nav-scrolling"):r>b&&c.hasClass("side-nav-scrolling")&&c.removeClass("side-nav-bottom side-nav-scrolling")},y=function(){c.on("click",".side-nav-item",function(){var b=a(this);f.removeClass(h),b.addClass(h),l.trigger(o+"click")});var b,d=!1;a(window).on("scroll",function(a){d||(d=!0,b=setTimeout(function(){j.autoNav&&v(),x(a),w(),d=!1},25))})};u(),this.on=function(){arguments[0]=o+arguments[0],c.on.apply(c,arguments)},this.off=function(){arguments[0]=o+arguments[0],c.off.apply(c,arguments)},this.trigger=function(){arguments[0]=o+arguments[0],c.trigger.apply(c,arguments)},this.resetItemPosition=function(){v(),c.removeClass("side-nav-bottom side-nav-scrolling"),a(window).trigger("side-nav-scroll")}};return b});